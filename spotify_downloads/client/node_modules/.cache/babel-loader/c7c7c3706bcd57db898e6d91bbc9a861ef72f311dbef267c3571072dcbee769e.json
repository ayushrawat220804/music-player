{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rohit\\\\spotify\\\\spotify_downloads\\\\client\\\\src\\\\components\\\\audio-player\\\\EnhancedAudioPlayer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport styled, { keyframes, css } from 'styled-components';\nimport { IoMdExpand, IoMdContract } from 'react-icons/io';\n// Import custom hooks\nimport useAudioContext from './hooks/useAudioContext';\nimport useAudioAnalysis from './hooks/useAudioAnalysis';\nimport useAudioPlayer from './hooks/useAudioPlayer';\n\n// Import UI components\nimport AlbumArt from './ui/AlbumArt';\nimport PlayerControls from './ui/PlayerControls';\nimport ProgressBar from './ui/ProgressBar';\nimport VolumeControl from './ui/VolumeControl';\n\n// Import utilities\nimport { extractDominantColor } from './utils/audioUtils';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst defaultCoverArt = '/default-cover.svg';\n\n// High-performance animation keyframes - optimized for 30+ fps\nconst fadeIn = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n`;\nconst fadeOut = keyframes`\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n`;\nconst scaleUp = keyframes`\n  0% {\n    transform: scale(0.96) translateZ(0);\n  }\n  100% {\n    transform: scale(1) translateZ(0);\n  }\n`;\nconst slideIn = keyframes`\n  from {\n    transform: translateY(15px) translateZ(0);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0) translateZ(0);\n    opacity: 1;\n  }\n`;\nconst glow = keyframes`\n  0% {\n    box-shadow: 0 0 5px rgba(29, 185, 84, 0.3);\n  }\n  50% {\n    box-shadow: 0 0 10px rgba(29, 185, 84, 0.5);\n  }\n  100% {\n    box-shadow: 0 0 5px rgba(29, 185, 84, 0.3);\n  }\n`;\nconst pulseScale = keyframes`\n  0% {\n    transform: scale(1) translateZ(0);\n  }\n  50% {\n    transform: scale(1.02) translateZ(0);\n  }\n  100% {\n    transform: scale(1) translateZ(0);\n  }\n`;\nconst rotateAround = keyframes`\n  from {\n    transform: rotate(0deg) translateX(10px) rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg) translateX(10px) rotate(-360deg);\n  }\n`;\nconst shimmer = keyframes`\n  0% {\n    background-position: -100% 0;\n  }\n  100% {\n    background-position: 200% 0;\n  }\n`;\nconst EnhancedAudioPlayer = ({\n  url,\n  metadata,\n  onPrevious,\n  onNext,\n  hasPrevious = false,\n  hasNext = false,\n  onShuffleChange\n}) => {\n  _s();\n  // Refs\n  const audioRef = useRef(null);\n  const playerRef = useRef(null);\n\n  // State\n  const [volume, setVolume] = useState(0.8);\n  const [isFullScreen, setIsFullScreen] = useState(false);\n  const [repeatMode, setRepeatMode] = useState(0); // 0: no repeat, 1: repeat all, 2: repeat one\n  const [dominantColor, setDominantColor] = useState('#121212');\n  const [isShuffled, setIsShuffled] = useState(false);\n  const [showParticles, setShowParticles] = useState(false);\n  const [isTransitioning, setIsTransitioning] = useState(false);\n\n  // Custom hooks\n  const {\n    audioContext,\n    analyser,\n    animationFrameRef,\n    resetAudioContext,\n    safeResetAudioContext,\n    createAudioContext\n  } = useAudioContext(audioRef);\n  const {\n    isPlaying,\n    currentTime,\n    duration,\n    loading,\n    error,\n    handlePlayPause,\n    handleSeek,\n    handleVolumeChange: audioVolumeChange,\n    sanitizeUrl\n  } = useAudioPlayer({\n    audioRef,\n    url,\n    onEnd: handleEnded,\n    volume,\n    createAudioContext,\n    audioContext,\n    safeResetAudioContext\n  });\n  const {\n    bassValue\n  } = useAudioAnalysis(analyser, isPlaying, animationFrameRef);\n\n  // Extract dominant color from album art\n  useEffect(() => {\n    if (!(metadata !== null && metadata !== void 0 && metadata.coverArt)) return;\n    extractDominantColor(metadata.coverArt).then(color => setDominantColor(color)).catch(() => setDominantColor('#121212'));\n  }, [metadata === null || metadata === void 0 ? void 0 : metadata.coverArt]);\n\n  // Handle track ended\n  function handleEnded() {\n    if (repeatMode === 2) {\n      // Repeat one\n      if (audioRef.current) {\n        audioRef.current.currentTime = 0;\n        audioRef.current.play().catch(console.error);\n      }\n    } else if (repeatMode === 1 && hasNext && onNext) {\n      // Repeat all - go to next track\n      onNext();\n    } else if (repeatMode === 1 && !hasNext && hasPrevious && onPrevious) {\n      // If at end of playlist and repeating all, go back to first track\n      onPrevious();\n    } else if (hasNext && onNext) {\n      // No repeat, but there's a next track - play it\n      onNext();\n    }\n  }\n\n  // Toggle fullscreen with immediate response\n  const toggleFullScreen = () => {\n    setIsTransitioning(true);\n\n    // Immediate response\n    if (!isFullScreen) {\n      var _playerRef$current;\n      (_playerRef$current = playerRef.current) === null || _playerRef$current === void 0 ? void 0 : _playerRef$current.requestFullscreen().catch(err => {\n        console.error('Error enabling full-screen mode:', err);\n        setIsTransitioning(false);\n      });\n    } else {\n      document.exitFullscreen().catch(err => {\n        console.error('Error exiting full-screen mode:', err);\n        setIsTransitioning(false);\n      });\n    }\n  };\n\n  // Handle fullscreen changes\n  useEffect(() => {\n    const handleFullScreenChange = () => {\n      const newFullscreenState = !!document.fullscreenElement;\n      setIsFullScreen(newFullscreenState);\n\n      // Very short transition - focus on performance\n      setTimeout(() => {\n        setIsTransitioning(false);\n      }, 300);\n    };\n    document.addEventListener('fullscreenchange', handleFullScreenChange);\n    return () => {\n      document.removeEventListener('fullscreenchange', handleFullScreenChange);\n    };\n  }, []);\n\n  // Handle fullscreen state changes\n  useEffect(() => {\n    // Show particles with a minimal delay\n    if (isFullScreen) {\n      const timer = setTimeout(() => {\n        setShowParticles(true);\n      }, 300);\n      return () => clearTimeout(timer);\n    } else {\n      setShowParticles(false);\n    }\n  }, [isFullScreen]);\n\n  // Toggle repeat mode\n  const toggleRepeatMode = () => {\n    setRepeatMode(prev => (prev + 1) % 3);\n  };\n\n  // Toggle shuffle\n  const toggleShuffle = () => {\n    const newShuffleState = !isShuffled;\n    setIsShuffled(newShuffleState);\n    if (onShuffleChange) {\n      onShuffleChange(newShuffleState);\n    }\n  };\n\n  // Volume change handler that updates both audio and state\n  const handleVolumeChange = useCallback(newVolume => {\n    setVolume(newVolume); // Update state\n    audioVolumeChange(newVolume); // Update audio element\n  }, [audioVolumeChange]);\n\n  // Reset audio context when component unmounts\n  useEffect(() => {\n    return () => {\n      // Use our utility function for proper cleanup\n      safeResetAudioContext();\n\n      // Additionally clean up the audio element\n      if (audioRef.current) {\n        audioRef.current.pause();\n        audioRef.current.src = '';\n        audioRef.current.removeAttribute('src');\n        audioRef.current.load();\n      }\n    };\n  }, [safeResetAudioContext]);\n  return /*#__PURE__*/_jsxDEV(PlayerContainer, {\n    ref: playerRef,\n    dominantColor: dominantColor,\n    isFullScreen: isFullScreen,\n    isTransitioning: isTransitioning,\n    children: [isFullScreen && (metadata === null || metadata === void 0 ? void 0 : metadata.coverArt) && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(FullScreenBackground, {\n        coverArt: metadata.coverArt,\n        isTransitioning: isTransitioning\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(BloomOverlay, {\n        isTransitioning: isTransitioning\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }, this), showParticles && /*#__PURE__*/_jsxDEV(Particles, {\n        isTransitioning: isTransitioning\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(PulsingGlow, {\n        dominantColor: dominantColor,\n        bassValue: bassValue,\n        isTransitioning: isTransitioning\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(PlayerContent, {\n      isFullScreen: isFullScreen,\n      isTransitioning: isTransitioning,\n      children: [/*#__PURE__*/_jsxDEV(AlbumArt, {\n        coverArt: (metadata === null || metadata === void 0 ? void 0 : metadata.coverArt) || defaultCoverArt,\n        altText: `${(metadata === null || metadata === void 0 ? void 0 : metadata.album) || 'Album'} cover`,\n        isFullScreen: isFullScreen,\n        bassValue: bassValue,\n        defaultCoverArt: defaultCoverArt,\n        isTransitioning: isTransitioning\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TrackInfo, {\n        isFullScreen: isFullScreen,\n        isTransitioning: isTransitioning,\n        children: [/*#__PURE__*/_jsxDEV(TrackTitle, {\n          isFullScreen: isFullScreen,\n          isTransitioning: isTransitioning,\n          children: (metadata === null || metadata === void 0 ? void 0 : metadata.title) || 'Unknown Title'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TrackArtist, {\n          isFullScreen: isFullScreen,\n          isTransitioning: isTransitioning,\n          children: (metadata === null || metadata === void 0 ? void 0 : metadata.artist) || 'Unknown Artist'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TrackAlbum, {\n          isFullScreen: isFullScreen,\n          isTransitioning: isTransitioning,\n          children: (metadata === null || metadata === void 0 ? void 0 : metadata.album) || 'Unknown Album'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n          currentTime: currentTime,\n          duration: duration,\n          isFullScreen: isFullScreen,\n          onSeek: handleSeek\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ControlsWrapper, {\n          isFullScreen: isFullScreen,\n          children: [/*#__PURE__*/_jsxDEV(PlayerControls, {\n            isPlaying: isPlaying,\n            loading: loading,\n            isFullScreen: isFullScreen,\n            repeatMode: repeatMode,\n            isShuffled: isShuffled,\n            hasNext: hasNext,\n            hasPrevious: hasPrevious,\n            onPlayPause: handlePlayPause,\n            onNext: onNext,\n            onPrevious: onPrevious,\n            onToggleRepeat: toggleRepeatMode,\n            onToggleShuffle: toggleShuffle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(VolumeControl, {\n            volume: volume,\n            isFullScreen: isFullScreen,\n            onVolumeChange: handleVolumeChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FullScreenButton, {\n      isFullScreen: isFullScreen,\n      onClick: toggleFullScreen,\n      title: isFullScreen ? 'Exit Full Screen' : 'Full Screen',\n      isTransitioning: isTransitioning,\n      children: isFullScreen ? /*#__PURE__*/_jsxDEV(IoMdContract, {\n        size: 32\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(IoMdExpand, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 54\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      preload: \"metadata\",\n      crossOrigin: \"anonymous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 5\n  }, this);\n};\n\n// Styled components\n_s(EnhancedAudioPlayer, \"/QK2BirEWAfddn5N229lnt/ZVvg=\", false, function () {\n  return [useAudioContext, useAudioPlayer, useAudioAnalysis];\n});\n_c = EnhancedAudioPlayer;\nconst PlayerContainer = styled.div`\n  position: relative;\n  width: ${props => props.isFullScreen ? '100vw' : '100%'};\n  height: ${props => props.isFullScreen ? '100vh' : 'auto'};\n  display: flex;\n  flex-direction: column;\n  align-items: ${props => props.isFullScreen ? 'center' : 'flex-start'};\n  justify-content: ${props => props.isFullScreen ? 'center' : 'flex-start'};\n  padding: ${props => props.isFullScreen ? '3rem' : '1.5rem'};\n  background: ${props => !props.isFullScreen ? `linear-gradient(135deg, ${props.dominantColor} 0%, #121212 100%)` : 'transparent'};\n  border-radius: ${props => props.isFullScreen ? '0' : '12px'};\n  overflow: hidden;\n  color: white;\n  box-shadow: ${props => props.isFullScreen ? 'none' : '0 4px 30px rgba(0, 0, 0, 0.3)'};\n  transition: all 0.3s cubic-bezier(0.1, 0.9, 0.2, 1);\n  will-change: transform, opacity;\n  \n  ${props => props.isTransitioning && css`\n    animation: ${scaleUp} 0.3s cubic-bezier(0.1, 0.9, 0.2, 1) both;\n  `}\n`;\n_c2 = PlayerContainer;\nconst FullScreenBackground = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-image: url(${props => props.coverArt});\n  background-size: cover;\n  background-position: center;\n  filter: blur(30px) brightness(0.4);\n  z-index: -4;\n  transform: scale(1.05) translateZ(0);\n  will-change: opacity;\n  \n  ${props => props.isTransitioning && css`\n    animation: ${fadeIn} 0.3s ease-out forwards;\n  `}\n  \n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(0deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 100%);\n  }\n`;\n_c3 = FullScreenBackground;\nconst PlayerContent = styled.div`\n  display: flex;\n  flex-direction: ${props => props.isFullScreen ? 'column' : 'row'};\n  align-items: center;\n  gap: ${props => props.isFullScreen ? '40px' : '20px'};\n  width: 100%;\n  max-width: ${props => props.isFullScreen ? '1400px' : '1200px'};\n  z-index: 1;\n  will-change: transform, opacity;\n  \n  ${props => props.isTransitioning && css`\n    animation: ${fadeIn} 0.25s ease-out forwards;\n  `}\n`;\n_c4 = PlayerContent;\nconst TrackInfo = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: ${props => props.isFullScreen ? 'center' : 'flex-start'};\n  width: ${props => props.isFullScreen ? '100%' : 'auto'};\n  text-align: ${props => props.isFullScreen ? 'center' : 'left'};\n  will-change: transform, opacity;\n  \n  ${props => props.isTransitioning && props.isFullScreen && css`\n    animation: ${slideIn} 0.3s ease-out forwards;\n  `}\n`;\n\n// High-performance text animations - all elements animate together instead of staggered\n_c5 = TrackInfo;\nconst TrackTitle = styled.h2`\n  margin: 0 0 8px 0;\n  font-size: ${props => props.isFullScreen ? '42px' : '32px'};\n  font-weight: 700;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  letter-spacing: -0.5px;\n  max-width: ${props => props.isFullScreen ? '80vw' : '100%'};\n  will-change: transform, opacity;\n  \n  ${props => props.isTransitioning && css`\n    animation: ${slideIn} 0.3s ease-out forwards;\n    text-shadow: ${props.isFullScreen ? '0 2px 8px rgba(0, 0, 0, 0.4)' : 'none'};\n  `}\n`;\n_c6 = TrackTitle;\nconst TrackArtist = styled.h3`\n  margin: 0 0 8px 0;\n  font-size: ${props => props.isFullScreen ? '30px' : '22px'};\n  color: rgba(255, 255, 255, 0.8);\n  font-weight: 500;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: ${props => props.isFullScreen ? '80vw' : '100%'};\n  will-change: transform, opacity;\n  \n  ${props => props.isTransitioning && css`\n    animation: ${slideIn} 0.3s ease-out forwards;\n    text-shadow: ${props.isFullScreen ? '0 2px 4px rgba(0, 0, 0, 0.3)' : 'none'};\n  `}\n`;\n_c7 = TrackArtist;\nconst TrackAlbum = styled.div`\n  margin-bottom: ${props => props.isFullScreen ? '40px' : '32px'};\n  font-size: ${props => props.isFullScreen ? '24px' : '18px'};\n  color: rgba(255, 255, 255, 0.6);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: ${props => props.isFullScreen ? '80vw' : '100%'};\n  will-change: transform, opacity;\n  \n  ${props => props.isTransitioning && css`\n    animation: ${slideIn} 0.3s ease-out forwards;\n    text-shadow: ${props.isFullScreen ? '0 1px 4px rgba(0, 0, 0, 0.25)' : 'none'};\n  `}\n`;\n_c8 = TrackAlbum;\nconst FullScreenButton = styled.button`\n  position: absolute;\n  top: ${props => props.isFullScreen ? '15px' : '10px'};\n  right: ${props => props.isFullScreen ? '15px' : '10px'};\n  background: ${props => props.isFullScreen ? 'rgba(0, 0, 0, 0.5)' : 'none'};\n  border: none;\n  border-radius: ${props => props.isFullScreen ? '50%' : '0'};\n  padding: ${props => props.isFullScreen ? '12px' : '10px'};\n  color: white;\n  cursor: pointer;\n  z-index: 10;\n  opacity: 0.7;\n  transition: all 0.15s ease-out;\n  will-change: transform, opacity;\n  \n  &:hover {\n    opacity: 1;\n    transform: ${props => props.isFullScreen ? 'scale(1.1)' : 'scale(1.05)'};\n    background: ${props => props.isFullScreen ? 'rgba(0, 0, 0, 0.7)' : 'none'};\n    ${props => !props.isTransitioning && css`\n      animation: ${glow} 2s infinite;\n    `}\n  }\n  \n  ${props => props.isTransitioning && css`\n    animation: ${fadeIn} 0.25s ease-out forwards;\n  `}\n`;\n_c9 = FullScreenButton;\nconst ErrorMessage = styled.div`\n  color: #ff5555;\n  margin-top: 10px;\n  text-align: center;\n  position: absolute;\n  bottom: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: rgba(0, 0, 0, 0.8);\n  padding: 10px 20px;\n  border-radius: 4px;\n  z-index: 20;\n  font-weight: 500;\n`;\n\n// Simplified visual effects for better performance\n_c10 = ErrorMessage;\nconst BloomOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(\n    circle at center,\n    rgba(255, 255, 255, 0.15) 0%,\n    rgba(255, 255, 255, 0) 70%\n  );\n  z-index: -3;\n  opacity: 0;\n  will-change: opacity;\n  transform: translateZ(0);\n  \n  ${props => props.isTransitioning && css`\n    animation: ${fadeIn} 0.4s ease-out forwards;\n  `}\n`;\n\n// Simplified particles for better performance\n_c11 = BloomOverlay;\nconst Particles = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: -2;\n  overflow: hidden;\n  will-change: opacity;\n  transform: translateZ(0);\n  \n  ${props => props.isTransitioning && css`\n    animation: ${fadeIn} 0.4s ease-out forwards;\n  `}\n  \n  &::before {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    opacity: 0.4;\n    background-image: \n      radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 5%),\n      radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 5%),\n      radial-gradient(circle at 40% 70%, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 5%);\n    will-change: transform;\n    transform: translateZ(0);\n  }\n`;\n\n// Simplified glow effect for better performance\n_c12 = Particles;\nconst PulsingGlow = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%) scale(${props => 0.9 + props.bassValue * 0.15}) translateZ(0);\n  width: 400px;\n  height: 400px;\n  border-radius: 50%;\n  background: ${props => props.dominantColor};\n  opacity: ${props => 0.08 + props.bassValue * 0.12};\n  filter: blur(60px);\n  z-index: -1;\n  transition: transform 0.03s linear, opacity 0.03s linear;\n  will-change: transform, opacity;\n  \n  ${props => props.isTransitioning && css`\n    animation: ${fadeIn} 0.35s ease-out forwards;\n  `}\n`;\n_c13 = PulsingGlow;\nconst ControlsWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  margin-bottom: ${props => props.isFullScreen ? '20px' : '15px'};\n  justify-content: center;\n  gap: ${props => props.isFullScreen ? '20px' : '15px'};\n  height: ${props => props.isFullScreen ? '32px' : '24px'}; /* Consistent height for all controls */\n`;\n_c14 = ControlsWrapper;\nexport default EnhancedAudioPlayer;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"EnhancedAudioPlayer\");\n$RefreshReg$(_c2, \"PlayerContainer\");\n$RefreshReg$(_c3, \"FullScreenBackground\");\n$RefreshReg$(_c4, \"PlayerContent\");\n$RefreshReg$(_c5, \"TrackInfo\");\n$RefreshReg$(_c6, \"TrackTitle\");\n$RefreshReg$(_c7, \"TrackArtist\");\n$RefreshReg$(_c8, \"TrackAlbum\");\n$RefreshReg$(_c9, \"FullScreenButton\");\n$RefreshReg$(_c10, \"ErrorMessage\");\n$RefreshReg$(_c11, \"BloomOverlay\");\n$RefreshReg$(_c12, \"Particles\");\n$RefreshReg$(_c13, \"PulsingGlow\");\n$RefreshReg$(_c14, \"ControlsWrapper\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","styled","keyframes","css","IoMdExpand","IoMdContract","useAudioContext","useAudioAnalysis","useAudioPlayer","AlbumArt","PlayerControls","ProgressBar","VolumeControl","extractDominantColor","jsxDEV","_jsxDEV","Fragment","_Fragment","defaultCoverArt","fadeIn","fadeOut","scaleUp","slideIn","glow","pulseScale","rotateAround","shimmer","EnhancedAudioPlayer","url","metadata","onPrevious","onNext","hasPrevious","hasNext","onShuffleChange","_s","audioRef","playerRef","volume","setVolume","isFullScreen","setIsFullScreen","repeatMode","setRepeatMode","dominantColor","setDominantColor","isShuffled","setIsShuffled","showParticles","setShowParticles","isTransitioning","setIsTransitioning","audioContext","analyser","animationFrameRef","resetAudioContext","safeResetAudioContext","createAudioContext","isPlaying","currentTime","duration","loading","error","handlePlayPause","handleSeek","handleVolumeChange","audioVolumeChange","sanitizeUrl","onEnd","handleEnded","bassValue","coverArt","then","color","catch","current","play","console","toggleFullScreen","_playerRef$current","requestFullscreen","err","document","exitFullscreen","handleFullScreenChange","newFullscreenState","fullscreenElement","setTimeout","addEventListener","removeEventListener","timer","clearTimeout","toggleRepeatMode","prev","toggleShuffle","newShuffleState","newVolume","pause","src","removeAttribute","load","PlayerContainer","ref","children","FullScreenBackground","fileName","_jsxFileName","lineNumber","columnNumber","BloomOverlay","Particles","PulsingGlow","PlayerContent","altText","album","TrackInfo","TrackTitle","title","TrackArtist","artist","TrackAlbum","onSeek","ControlsWrapper","onPlayPause","onToggleRepeat","onToggleShuffle","onVolumeChange","FullScreenButton","onClick","size","ErrorMessage","preload","crossOrigin","_c","div","props","_c2","_c3","_c4","_c5","h2","_c6","h3","_c7","_c8","button","_c9","_c10","_c11","_c12","_c13","_c14","$RefreshReg$"],"sources":["C:/Users/rohit/spotify/spotify_downloads/client/src/components/audio-player/EnhancedAudioPlayer.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport styled, { keyframes, css } from 'styled-components';\r\nimport { IoMdExpand, IoMdContract } from 'react-icons/io';\r\nimport { TrackMetadata } from '../../types';\r\n\r\n// Import custom hooks\r\nimport useAudioContext from './hooks/useAudioContext';\r\nimport useAudioAnalysis from './hooks/useAudioAnalysis';\r\nimport useAudioPlayer from './hooks/useAudioPlayer';\r\n\r\n// Import UI components\r\nimport AlbumArt from './ui/AlbumArt';\r\nimport PlayerControls from './ui/PlayerControls';\r\nimport ProgressBar from './ui/ProgressBar';\r\nimport VolumeControl from './ui/VolumeControl';\r\n\r\n// Import utilities\r\nimport { extractDominantColor } from './utils/audioUtils';\r\n\r\ninterface EnhancedAudioPlayerProps {\r\n  url: string;\r\n  metadata?: TrackMetadata;\r\n  onPrevious?: () => void;\r\n  onNext?: () => void;\r\n  hasPrevious?: boolean;\r\n  hasNext?: boolean;\r\n  onShuffleChange?: (isShuffled: boolean) => void;\r\n}\r\n\r\nconst defaultCoverArt = '/default-cover.svg';\r\n\r\n// High-performance animation keyframes - optimized for 30+ fps\r\nconst fadeIn = keyframes`\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst fadeOut = keyframes`\r\n  from {\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    opacity: 0;\r\n  }\r\n`;\r\n\r\nconst scaleUp = keyframes`\r\n  0% {\r\n    transform: scale(0.96) translateZ(0);\r\n  }\r\n  100% {\r\n    transform: scale(1) translateZ(0);\r\n  }\r\n`;\r\n\r\nconst slideIn = keyframes`\r\n  from {\r\n    transform: translateY(15px) translateZ(0);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(0) translateZ(0);\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst glow = keyframes`\r\n  0% {\r\n    box-shadow: 0 0 5px rgba(29, 185, 84, 0.3);\r\n  }\r\n  50% {\r\n    box-shadow: 0 0 10px rgba(29, 185, 84, 0.5);\r\n  }\r\n  100% {\r\n    box-shadow: 0 0 5px rgba(29, 185, 84, 0.3);\r\n  }\r\n`;\r\n\r\nconst pulseScale = keyframes`\r\n  0% {\r\n    transform: scale(1) translateZ(0);\r\n  }\r\n  50% {\r\n    transform: scale(1.02) translateZ(0);\r\n  }\r\n  100% {\r\n    transform: scale(1) translateZ(0);\r\n  }\r\n`;\r\n\r\nconst rotateAround = keyframes`\r\n  from {\r\n    transform: rotate(0deg) translateX(10px) rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg) translateX(10px) rotate(-360deg);\r\n  }\r\n`;\r\n\r\nconst shimmer = keyframes`\r\n  0% {\r\n    background-position: -100% 0;\r\n  }\r\n  100% {\r\n    background-position: 200% 0;\r\n  }\r\n`;\r\n\r\nconst EnhancedAudioPlayer: React.FC<EnhancedAudioPlayerProps> = ({\r\n  url,\r\n  metadata,\r\n  onPrevious,\r\n  onNext,\r\n  hasPrevious = false,\r\n  hasNext = false,\r\n  onShuffleChange\r\n}) => {\r\n  // Refs\r\n  const audioRef = useRef<HTMLAudioElement>(null);\r\n  const playerRef = useRef<HTMLDivElement>(null);\r\n  \r\n  // State\r\n  const [volume, setVolume] = useState(0.8);\r\n  const [isFullScreen, setIsFullScreen] = useState(false);\r\n  const [repeatMode, setRepeatMode] = useState(0); // 0: no repeat, 1: repeat all, 2: repeat one\r\n  const [dominantColor, setDominantColor] = useState('#121212');\r\n  const [isShuffled, setIsShuffled] = useState(false);\r\n  const [showParticles, setShowParticles] = useState(false);\r\n  const [isTransitioning, setIsTransitioning] = useState(false);\r\n  \r\n  // Custom hooks\r\n  const {\r\n    audioContext,\r\n    analyser,\r\n    animationFrameRef,\r\n    resetAudioContext,\r\n    safeResetAudioContext,\r\n    createAudioContext\r\n  } = useAudioContext(audioRef);\r\n  \r\n  const {\r\n    isPlaying,\r\n    currentTime,\r\n    duration,\r\n    loading,\r\n    error,\r\n    handlePlayPause,\r\n    handleSeek,\r\n    handleVolumeChange: audioVolumeChange,\r\n    sanitizeUrl\r\n  } = useAudioPlayer({\r\n    audioRef,\r\n    url,\r\n    onEnd: handleEnded,\r\n    volume,\r\n    createAudioContext,\r\n    audioContext,\r\n    safeResetAudioContext\r\n  });\r\n  \r\n  const { bassValue } = useAudioAnalysis(analyser, isPlaying, animationFrameRef);\r\n\r\n  // Extract dominant color from album art\r\n  useEffect(() => {\r\n    if (!metadata?.coverArt) return;\r\n    \r\n    extractDominantColor(metadata.coverArt)\r\n      .then(color => setDominantColor(color))\r\n      .catch(() => setDominantColor('#121212'));\r\n  }, [metadata?.coverArt]);\r\n\r\n  // Handle track ended\r\n  function handleEnded() {\r\n    if (repeatMode === 2) {\r\n      // Repeat one\r\n      if (audioRef.current) {\r\n        audioRef.current.currentTime = 0;\r\n        audioRef.current.play().catch(console.error);\r\n      }\r\n    } else if (repeatMode === 1 && hasNext && onNext) {\r\n      // Repeat all - go to next track\r\n      onNext();\r\n    } else if (repeatMode === 1 && !hasNext && hasPrevious && onPrevious) {\r\n      // If at end of playlist and repeating all, go back to first track\r\n      onPrevious();\r\n    } else if (hasNext && onNext) {\r\n      // No repeat, but there's a next track - play it\r\n      onNext();\r\n    }\r\n  }\r\n\r\n  // Toggle fullscreen with immediate response\r\n  const toggleFullScreen = () => {\r\n    setIsTransitioning(true);\r\n    \r\n    // Immediate response\r\n    if (!isFullScreen) {\r\n      playerRef.current?.requestFullscreen()\r\n        .catch(err => {\r\n          console.error('Error enabling full-screen mode:', err);\r\n          setIsTransitioning(false);\r\n        });\r\n    } else {\r\n      document.exitFullscreen()\r\n        .catch(err => {\r\n          console.error('Error exiting full-screen mode:', err);\r\n          setIsTransitioning(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  // Handle fullscreen changes\r\n  useEffect(() => {\r\n    const handleFullScreenChange = () => {\r\n      const newFullscreenState = !!document.fullscreenElement;\r\n      setIsFullScreen(newFullscreenState);\r\n      \r\n      // Very short transition - focus on performance\r\n      setTimeout(() => {\r\n        setIsTransitioning(false);\r\n      }, 300);\r\n    };\r\n    \r\n    document.addEventListener('fullscreenchange', handleFullScreenChange);\r\n    return () => {\r\n      document.removeEventListener('fullscreenchange', handleFullScreenChange);\r\n    };\r\n  }, []);\r\n\r\n  // Handle fullscreen state changes\r\n  useEffect(() => {\r\n    // Show particles with a minimal delay\r\n    if (isFullScreen) {\r\n      const timer = setTimeout(() => {\r\n        setShowParticles(true);\r\n      }, 300);\r\n      return () => clearTimeout(timer);\r\n    } else {\r\n      setShowParticles(false);\r\n    }\r\n  }, [isFullScreen]);\r\n\r\n  // Toggle repeat mode\r\n  const toggleRepeatMode = () => {\r\n    setRepeatMode((prev) => (prev + 1) % 3);\r\n  };\r\n\r\n  // Toggle shuffle\r\n  const toggleShuffle = () => {\r\n    const newShuffleState = !isShuffled;\r\n    setIsShuffled(newShuffleState);\r\n    if (onShuffleChange) {\r\n      onShuffleChange(newShuffleState);\r\n    }\r\n  };\r\n\r\n  // Volume change handler that updates both audio and state\r\n  const handleVolumeChange = useCallback((newVolume: number) => {\r\n    setVolume(newVolume); // Update state\r\n    audioVolumeChange(newVolume); // Update audio element\r\n  }, [audioVolumeChange]);\r\n\r\n  // Reset audio context when component unmounts\r\n  useEffect(() => {\r\n    return () => {\r\n      // Use our utility function for proper cleanup\r\n      safeResetAudioContext();\r\n      \r\n      // Additionally clean up the audio element\r\n      if (audioRef.current) {\r\n        audioRef.current.pause();\r\n        audioRef.current.src = '';\r\n        audioRef.current.removeAttribute('src');\r\n        audioRef.current.load();\r\n      }\r\n    };\r\n  }, [safeResetAudioContext]);\r\n\r\n  return (\r\n    <PlayerContainer \r\n      ref={playerRef} \r\n      dominantColor={dominantColor} \r\n      isFullScreen={isFullScreen}\r\n      isTransitioning={isTransitioning}\r\n    >\r\n      {isFullScreen && metadata?.coverArt && (\r\n        <>\r\n          <FullScreenBackground \r\n            coverArt={metadata.coverArt} \r\n            isTransitioning={isTransitioning}\r\n          />\r\n          <BloomOverlay isTransitioning={isTransitioning} />\r\n          {showParticles && <Particles isTransitioning={isTransitioning} />}\r\n          <PulsingGlow \r\n            dominantColor={dominantColor} \r\n            bassValue={bassValue}\r\n            isTransitioning={isTransitioning}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      <PlayerContent \r\n        isFullScreen={isFullScreen}\r\n        isTransitioning={isTransitioning}\r\n      >\r\n        <AlbumArt \r\n          coverArt={metadata?.coverArt || defaultCoverArt}\r\n          altText={`${metadata?.album || 'Album'} cover`}\r\n          isFullScreen={isFullScreen}\r\n          bassValue={bassValue}\r\n          defaultCoverArt={defaultCoverArt}\r\n          isTransitioning={isTransitioning}\r\n        />\r\n\r\n        <TrackInfo \r\n          isFullScreen={isFullScreen}\r\n          isTransitioning={isTransitioning}\r\n        >\r\n          <TrackTitle \r\n            isFullScreen={isFullScreen}\r\n            isTransitioning={isTransitioning}\r\n          >\r\n            {metadata?.title || 'Unknown Title'}\r\n          </TrackTitle>\r\n          <TrackArtist \r\n            isFullScreen={isFullScreen}\r\n            isTransitioning={isTransitioning}\r\n          >\r\n            {metadata?.artist || 'Unknown Artist'}\r\n          </TrackArtist>\r\n          <TrackAlbum \r\n            isFullScreen={isFullScreen}\r\n            isTransitioning={isTransitioning}\r\n          >\r\n            {metadata?.album || 'Unknown Album'}\r\n          </TrackAlbum>\r\n\r\n          <ProgressBar \r\n            currentTime={currentTime}\r\n            duration={duration}\r\n            isFullScreen={isFullScreen}\r\n            onSeek={handleSeek}\r\n          />\r\n\r\n          <ControlsWrapper isFullScreen={isFullScreen}>\r\n            <PlayerControls \r\n              isPlaying={isPlaying}\r\n              loading={loading}\r\n              isFullScreen={isFullScreen}\r\n              repeatMode={repeatMode}\r\n              isShuffled={isShuffled}\r\n              hasNext={hasNext}\r\n              hasPrevious={hasPrevious}\r\n              onPlayPause={handlePlayPause}\r\n              onNext={onNext}\r\n              onPrevious={onPrevious}\r\n              onToggleRepeat={toggleRepeatMode}\r\n              onToggleShuffle={toggleShuffle}\r\n            />\r\n\r\n            <VolumeControl \r\n              volume={volume}\r\n              isFullScreen={isFullScreen}\r\n              onVolumeChange={handleVolumeChange}\r\n            />\r\n          </ControlsWrapper>\r\n        </TrackInfo>\r\n      </PlayerContent>\r\n\r\n      <FullScreenButton \r\n        isFullScreen={isFullScreen}\r\n        onClick={toggleFullScreen} \r\n        title={isFullScreen ? 'Exit Full Screen' : 'Full Screen'}\r\n        isTransitioning={isTransitioning}\r\n      >\r\n        {isFullScreen ? <IoMdContract size={32} /> : <IoMdExpand size={24} />}\r\n      </FullScreenButton>\r\n\r\n      {error && <ErrorMessage>{error}</ErrorMessage>}\r\n\r\n      <audio\r\n        ref={audioRef}\r\n        preload=\"metadata\"\r\n        crossOrigin=\"anonymous\"\r\n      />\r\n    </PlayerContainer>\r\n  );\r\n};\r\n\r\n// Styled components\r\nconst PlayerContainer = styled.div<{ dominantColor: string; isFullScreen: boolean; isTransitioning: boolean }>`\r\n  position: relative;\r\n  width: ${props => props.isFullScreen ? '100vw' : '100%'};\r\n  height: ${props => props.isFullScreen ? '100vh' : 'auto'};\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: ${props => props.isFullScreen ? 'center' : 'flex-start'};\r\n  justify-content: ${props => props.isFullScreen ? 'center' : 'flex-start'};\r\n  padding: ${props => props.isFullScreen ? '3rem' : '1.5rem'};\r\n  background: ${props => !props.isFullScreen \r\n    ? `linear-gradient(135deg, ${props.dominantColor} 0%, #121212 100%)`\r\n    : 'transparent'\r\n  };\r\n  border-radius: ${props => props.isFullScreen ? '0' : '12px'};\r\n  overflow: hidden;\r\n  color: white;\r\n  box-shadow: ${props => props.isFullScreen ? 'none' : '0 4px 30px rgba(0, 0, 0, 0.3)'};\r\n  transition: all 0.3s cubic-bezier(0.1, 0.9, 0.2, 1);\r\n  will-change: transform, opacity;\r\n  \r\n  ${props => props.isTransitioning && css`\r\n    animation: ${scaleUp} 0.3s cubic-bezier(0.1, 0.9, 0.2, 1) both;\r\n  `}\r\n`;\r\n\r\nconst FullScreenBackground = styled.div<{ coverArt: string; isTransitioning: boolean }>`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-image: url(${props => props.coverArt});\r\n  background-size: cover;\r\n  background-position: center;\r\n  filter: blur(30px) brightness(0.4);\r\n  z-index: -4;\r\n  transform: scale(1.05) translateZ(0);\r\n  will-change: opacity;\r\n  \r\n  ${props => props.isTransitioning && css`\r\n    animation: ${fadeIn} 0.3s ease-out forwards;\r\n  `}\r\n  \r\n  &::after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(0deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 100%);\r\n  }\r\n`;\r\n\r\nconst PlayerContent = styled.div<{ isFullScreen: boolean; isTransitioning: boolean }>`\r\n  display: flex;\r\n  flex-direction: ${props => props.isFullScreen ? 'column' : 'row'};\r\n  align-items: center;\r\n  gap: ${props => props.isFullScreen ? '40px' : '20px'};\r\n  width: 100%;\r\n  max-width: ${props => props.isFullScreen ? '1400px' : '1200px'};\r\n  z-index: 1;\r\n  will-change: transform, opacity;\r\n  \r\n  ${props => props.isTransitioning && css`\r\n    animation: ${fadeIn} 0.25s ease-out forwards;\r\n  `}\r\n`;\r\n\r\nconst TrackInfo = styled.div<{ isFullScreen: boolean; isTransitioning: boolean }>`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: ${props => props.isFullScreen ? 'center' : 'flex-start'};\r\n  width: ${props => props.isFullScreen ? '100%' : 'auto'};\r\n  text-align: ${props => props.isFullScreen ? 'center' : 'left'};\r\n  will-change: transform, opacity;\r\n  \r\n  ${props => props.isTransitioning && props.isFullScreen && css`\r\n    animation: ${slideIn} 0.3s ease-out forwards;\r\n  `}\r\n`;\r\n\r\n// High-performance text animations - all elements animate together instead of staggered\r\nconst TrackTitle = styled.h2<{ isFullScreen: boolean; isTransitioning: boolean }>`\r\n  margin: 0 0 8px 0;\r\n  font-size: ${props => props.isFullScreen ? '42px' : '32px'};\r\n  font-weight: 700;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  letter-spacing: -0.5px;\r\n  max-width: ${props => props.isFullScreen ? '80vw' : '100%'};\r\n  will-change: transform, opacity;\r\n  \r\n  ${props => props.isTransitioning && css`\r\n    animation: ${slideIn} 0.3s ease-out forwards;\r\n    text-shadow: ${props.isFullScreen ? '0 2px 8px rgba(0, 0, 0, 0.4)' : 'none'};\r\n  `}\r\n`;\r\n\r\nconst TrackArtist = styled.h3<{ isFullScreen: boolean; isTransitioning: boolean }>`\r\n  margin: 0 0 8px 0;\r\n  font-size: ${props => props.isFullScreen ? '30px' : '22px'};\r\n  color: rgba(255, 255, 255, 0.8);\r\n  font-weight: 500;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  max-width: ${props => props.isFullScreen ? '80vw' : '100%'};\r\n  will-change: transform, opacity;\r\n  \r\n  ${props => props.isTransitioning && css`\r\n    animation: ${slideIn} 0.3s ease-out forwards;\r\n    text-shadow: ${props.isFullScreen ? '0 2px 4px rgba(0, 0, 0, 0.3)' : 'none'};\r\n  `}\r\n`;\r\n\r\nconst TrackAlbum = styled.div<{ isFullScreen: boolean; isTransitioning: boolean }>`\r\n  margin-bottom: ${props => props.isFullScreen ? '40px' : '32px'};\r\n  font-size: ${props => props.isFullScreen ? '24px' : '18px'};\r\n  color: rgba(255, 255, 255, 0.6);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  max-width: ${props => props.isFullScreen ? '80vw' : '100%'};\r\n  will-change: transform, opacity;\r\n  \r\n  ${props => props.isTransitioning && css`\r\n    animation: ${slideIn} 0.3s ease-out forwards;\r\n    text-shadow: ${props.isFullScreen ? '0 1px 4px rgba(0, 0, 0, 0.25)' : 'none'};\r\n  `}\r\n`;\r\n\r\nconst FullScreenButton = styled.button<{ isFullScreen: boolean; isTransitioning: boolean }>`\r\n  position: absolute;\r\n  top: ${props => props.isFullScreen ? '15px' : '10px'};\r\n  right: ${props => props.isFullScreen ? '15px' : '10px'};\r\n  background: ${props => props.isFullScreen ? 'rgba(0, 0, 0, 0.5)' : 'none'};\r\n  border: none;\r\n  border-radius: ${props => props.isFullScreen ? '50%' : '0'};\r\n  padding: ${props => props.isFullScreen ? '12px' : '10px'};\r\n  color: white;\r\n  cursor: pointer;\r\n  z-index: 10;\r\n  opacity: 0.7;\r\n  transition: all 0.15s ease-out;\r\n  will-change: transform, opacity;\r\n  \r\n  &:hover {\r\n    opacity: 1;\r\n    transform: ${props => props.isFullScreen ? 'scale(1.1)' : 'scale(1.05)'};\r\n    background: ${props => props.isFullScreen ? 'rgba(0, 0, 0, 0.7)' : 'none'};\r\n    ${props => !props.isTransitioning && css`\r\n      animation: ${glow} 2s infinite;\r\n    `}\r\n  }\r\n  \r\n  ${props => props.isTransitioning && css`\r\n    animation: ${fadeIn} 0.25s ease-out forwards;\r\n  `}\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  color: #ff5555;\r\n  margin-top: 10px;\r\n  text-align: center;\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background: rgba(0, 0, 0, 0.8);\r\n  padding: 10px 20px;\r\n  border-radius: 4px;\r\n  z-index: 20;\r\n  font-weight: 500;\r\n`;\r\n\r\n// Simplified visual effects for better performance\r\nconst BloomOverlay = styled.div<{ isTransitioning: boolean }>`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: radial-gradient(\r\n    circle at center,\r\n    rgba(255, 255, 255, 0.15) 0%,\r\n    rgba(255, 255, 255, 0) 70%\r\n  );\r\n  z-index: -3;\r\n  opacity: 0;\r\n  will-change: opacity;\r\n  transform: translateZ(0);\r\n  \r\n  ${props => props.isTransitioning && css`\r\n    animation: ${fadeIn} 0.4s ease-out forwards;\r\n  `}\r\n`;\r\n\r\n// Simplified particles for better performance\r\nconst Particles = styled.div<{ isTransitioning: boolean }>`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: -2;\r\n  overflow: hidden;\r\n  will-change: opacity;\r\n  transform: translateZ(0);\r\n  \r\n  ${props => props.isTransitioning && css`\r\n    animation: ${fadeIn} 0.4s ease-out forwards;\r\n  `}\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    opacity: 0.4;\r\n    background-image: \r\n      radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 5%),\r\n      radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 5%),\r\n      radial-gradient(circle at 40% 70%, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 5%);\r\n    will-change: transform;\r\n    transform: translateZ(0);\r\n  }\r\n`;\r\n\r\n// Simplified glow effect for better performance\r\nconst PulsingGlow = styled.div<{ dominantColor: string; bassValue: number; isTransitioning: boolean }>`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%) scale(${props => 0.9 + props.bassValue * 0.15}) translateZ(0);\r\n  width: 400px;\r\n  height: 400px;\r\n  border-radius: 50%;\r\n  background: ${props => props.dominantColor};\r\n  opacity: ${props => 0.08 + props.bassValue * 0.12};\r\n  filter: blur(60px);\r\n  z-index: -1;\r\n  transition: transform 0.03s linear, opacity 0.03s linear;\r\n  will-change: transform, opacity;\r\n  \r\n  ${props => props.isTransitioning && css`\r\n    animation: ${fadeIn} 0.35s ease-out forwards;\r\n  `}\r\n`;\r\n\r\nconst ControlsWrapper = styled.div<{ isFullScreen?: boolean }>`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  margin-bottom: ${props => props.isFullScreen ? '20px' : '15px'};\r\n  justify-content: center;\r\n  gap: ${props => props.isFullScreen ? '20px' : '15px'};\r\n  height: ${props => props.isFullScreen ? '32px' : '24px'}; /* Consistent height for all controls */\r\n`;\r\n\r\nexport default EnhancedAudioPlayer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}